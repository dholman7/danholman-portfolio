[
  {
    "httpRequest": {
      "method": "POST",
      "path": "/api/orders",
      "headers": {
        "Content-Type": ["application/json"]
      }
    },
    "httpResponse": {
      "statusCode": 201,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "id": 999,
        "order_id": "ORD-{{now 'yyyyMMddHHmmss'}}",
        "user_id": "{{jsonPath request.body '$.user_id'}}",
        "products": "{{jsonPath request.body '$.products'}}",
        "total_amount": "{{jsonPath request.body '$.total_amount'}}",
        "status": "pending",
        "shipping_address": "{{jsonPath request.body '$.shipping_address'}}",
        "created_at": "{{now 'yyyy-MM-dd''T''HH:mm:ss.SSS''Z'''}}"
      }
    }
  },
  {
    "httpRequest": {
      "method": "GET",
      "path": "/api/users/[0-9]+/orders"
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "orders": [
          {
            "id": 1,
            "order_id": "ORD-20240101120000",
            "user_id": "{{regexExtract request.path '\\/api\\/users\\/([0-9]+)\\/orders'}}",
            "products": [
              {
                "id": "TEST-001",
                "quantity": 1,
                "price": 29.99
              }
            ],
            "total_amount": 29.99,
            "status": "pending",
            "created_at": "2024-01-01T12:00:00.000Z"
          }
        ]
      }
    }
  },
  {
    "httpRequest": {
      "method": "PATCH",
      "path": "/api/orders/[0-9]+",
      "headers": {
        "Content-Type": ["application/json"]
      }
    },
    "httpResponse": {
      "statusCode": 200,
      "headers": {
        "Content-Type": ["application/json"]
      },
      "body": {
        "id": "{{regexExtract request.path '\\/api\\/orders\\/([0-9]+)'}}",
        "order_id": "ORD-20240101120000",
        "user_id": 1,
        "products": [
          {
            "id": "TEST-001",
            "quantity": 1,
            "price": 29.99
          }
        ],
        "total_amount": 29.99,
        "status": "{{jsonPath request.body '$.status'}}",
        "updated_at": "{{now 'yyyy-MM-dd''T''HH:mm:ss.SSS''Z'''}}"
      }
    }
  }
]
